# Tunnox Core

<div align="center">

![Go Version](https://img.shields.io/badge/Go-1.24+-blue.svg)
![License](https://img.shields.io/badge/License-MIT-green.svg)
![Status](https://img.shields.io/badge/Status-å¼€å‘ä¸­-orange.svg)
![Architecture](https://img.shields.io/badge/Architecture-åˆ†å±‚æ¶æ„-purple.svg)
![Zero-Copy](https://img.shields.io/badge/Zero--Copy-æ”¯æŒ-red.svg)
![Tests](https://img.shields.io/badge/Tests-100%25%20Passing-brightgreen.svg)
![Code](https://img.shields.io/badge/Code-11K%2B%20Lines-blue.svg)

**ğŸŒ äº‘ç«¯éš§é“ä¸è¿æ¥ç®¡ç†æ ¸å¿ƒæ¡†æ¶**  
*ä¸“ä¸ºåˆ†å¸ƒå¼ç½‘ç»œç¯å¢ƒè®¾è®¡çš„è½»é‡çº§éš§é“è§£å†³æ–¹æ¡ˆ*

[ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [ğŸ—ï¸ ç³»ç»Ÿæ¶æ„](#ï¸-ç³»ç»Ÿæ¶æ„) â€¢ [âœ¨ æ ¸å¿ƒåŠŸèƒ½](#-æ ¸å¿ƒåŠŸèƒ½) â€¢ [ğŸ“¦ é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)

</div>

---

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

Tunnox Core æ˜¯ä¸€ä¸ªåŸºäº Go è¯­è¨€å¼€å‘çš„äº‘ç«¯éš§é“æ¡†æ¶ï¼Œä¸“ä¸ºåˆ†å¸ƒå¼ç½‘ç»œç¯å¢ƒè®¾è®¡ã€‚é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„åˆ†å±‚æ¶æ„ï¼Œé›†æˆäº†å¤šç§ç½‘ç»œåè®®æ”¯æŒï¼Œé€šè¿‡å†…å­˜æ± ã€é›¶æ‹·è´ã€æµå¼å¤„ç†ç­‰å…ˆè¿›æŠ€æœ¯ï¼Œä¸ºç«¯å£æ˜ å°„å’Œè¿æ¥ç®¡ç†æä¾›é«˜æ€§èƒ½ã€ä½å»¶è¿Ÿçš„è§£å†³æ–¹æ¡ˆã€‚

### ğŸ¯ é¡¹ç›®ç›®æ ‡

**è½»é‡éš§é“æœåŠ¡** ğŸ”„ å¼€å‘ä¸­
- æä¾›ç«¯å£æ˜ å°„å’Œéš§é“åŠŸèƒ½æ¡†æ¶ï¼Œæ”¯æŒ TCPã€HTTPã€SOCKS ç­‰å¤šç§åè®®æ˜ å°„

**å¤šåè®®æ”¯æŒ** âœ… å·²å®Œæˆ
- æ”¯æŒ TCPã€WebSocketã€UDPã€QUIC ç­‰å¤šç§ä¼ è¾“åè®®ï¼Œé€‚åº”ä¸åŒç½‘ç»œç¯å¢ƒéœ€æ±‚

**åˆ†å¸ƒå¼æ¶æ„** ğŸ”„ å¼€å‘ä¸­
- æ”¯æŒé›†ç¾¤éƒ¨ç½²å’ŒèŠ‚ç‚¹ç®¡ç†ï¼Œå®ç°é«˜å¯ç”¨æ€§å’Œè´Ÿè½½å‡è¡¡

**èµ„æºä¼˜åŒ–** âœ… å·²å®Œæˆ
- é€šè¿‡å†…å­˜æ± ã€é›¶æ‹·è´ã€è¿æ¥æ± ç­‰æŠ€æœ¯å¤§å¹…æå‡æ€§èƒ½ï¼Œé™ä½èµ„æºæ¶ˆè€—

**å¯æ‰©å±•æ€§** âœ… å·²å®Œæˆ
- æ¨¡å—åŒ–è®¾è®¡ï¼Œæ’ä»¶åŒ–æ¶æ„ï¼Œä¾¿äºåŠŸèƒ½æ‰©å±•å’Œå®šåˆ¶åŒ–å¼€å‘

### ğŸŒŸ æŠ€æœ¯ç‰¹ç‚¹

**ğŸ—ï¸ åˆ†å±‚æ¶æ„**
- æ¸…æ™°çš„ä¸šåŠ¡é€»è¾‘ã€æ•°æ®è®¿é—®å’ŒåŸºç¡€è®¾æ–½åˆ†ç¦»
- ä¾¿äºç»´æŠ¤å’Œæ‰©å±•

**ğŸ­ å·¥å‚æ¨¡å¼**
- StreamFactoryç»Ÿä¸€ç®¡ç†æµç»„ä»¶åˆ›å»ºï¼Œæ”¯æŒé…ç½®åŒ–å·¥å‚å’Œé¢„å®šä¹‰æ¨¡æ¿
- ç»Ÿä¸€ç®¡ç†å’Œé…ç½®

**ğŸ”§ èµ„æºç®¡ç†**
- åŸºäº Dispose æ¨¡å¼çš„å±‚æ¬¡åŒ–èµ„æºæ¸…ç†ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼
- ç¡®ä¿ä¼˜é›…å…³é—­

**ğŸ›¡ï¸ ç±»å‹å®‰å…¨**
- å¼ºç±»å‹ç³»ç»Ÿï¼Œç»Ÿä¸€çš„å‘½åè§„èŒƒ
- æé«˜ä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡

**âš¡ å¹¶å‘æ§åˆ¶**
- çº¿ç¨‹å®‰å…¨çš„è®¾è®¡ï¼Œä¼˜åŒ–çš„é”å®šç­–ç•¥
- æ”¯æŒé«˜å¹¶å‘åœºæ™¯

**ğŸš€ æ€§èƒ½ä¼˜åŒ–**
- å†…å­˜æ± ã€é›¶æ‹·è´ã€æµå¼å¤„ç†ã€å‹ç¼©ç®—æ³•ç­‰æŠ€æœ¯çš„ç»¼åˆåº”ç”¨
- é«˜æ€§èƒ½å’Œä½å»¶è¿Ÿ

**ğŸ”Œ åè®®é€‚é…**
- ç»Ÿä¸€çš„åè®®é€‚é…å™¨æ¥å£ï¼Œæ”¯æŒå¤šç§ç½‘ç»œåè®®çš„é€æ˜åˆ‡æ¢
- çµæ´»åˆ‡æ¢åè®®

**ğŸ“Š æµå¼å¤„ç†**
- æ”¯æŒæ•°æ®å‹ç¼©ã€é™é€Ÿã€åˆ†å—ä¼ è¾“ç­‰é«˜çº§æµå¤„ç†åŠŸèƒ½
- ä¼˜åŒ–ç½‘ç»œå¸¦å®½

**ğŸ“ˆ æµç®¡ç†**
- StreamManagerç»Ÿä¸€ç®¡ç†æµç”Ÿå‘½å‘¨æœŸï¼Œæ”¯æŒæµæ³¨å†Œã€ç›‘æ§å’ŒæŒ‡æ ‡ç»Ÿè®¡
- ç»Ÿä¸€ç›‘æ§å’Œç®¡ç†

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### ğŸ“Š æ•´ä½“æ¶æ„å›¾

```mermaid
graph TB
    subgraph "åº”ç”¨å±‚"
        Server[æœåŠ¡å™¨å…¥å£]
        Config[é…ç½®ç®¡ç†]
    end
    
    subgraph "ä¸šåŠ¡å±‚"
        CloudControl[äº‘æ§æ€»çº¿]
        subgraph "ä¸šåŠ¡ç®¡ç†å™¨"
            JWTManager[JWTç®¡ç†å™¨]
            StatsManager[ç»Ÿè®¡ç®¡ç†å™¨ - åŸºç¡€ç‰ˆ]
            NodeManager[èŠ‚ç‚¹ç®¡ç†å™¨ - åŸºç¡€ç‰ˆ]
            AnonymousManager[åŒ¿åç®¡ç†å™¨]
            SearchManager[æœç´¢ç®¡ç†å™¨ - åŸºç¡€ç‰ˆ]
            ConnectionManager[è¿æ¥ç®¡ç†å™¨ - åŸºç¡€ç‰ˆ]
            ConfigManager[é…ç½®ç®¡ç†å™¨ - åŸºç¡€ç‰ˆ]
            CleanupManager[æ¸…ç†ç®¡ç†å™¨ - åŸºç¡€ç‰ˆ]
        end
    end
    
    subgraph "æ•°æ®å±‚"
        subgraph "æ•°æ®ä»“åº“"
            UserRepo[ç”¨æˆ·ä»“åº“]
            ClientRepo[å®¢æˆ·ç«¯ä»“åº“]
            MappingRepo[ç«¯å£æ˜ å°„ä»“åº“]
            NodeRepo[èŠ‚ç‚¹ä»“åº“]
            ConnectionRepo[è¿æ¥ä»“åº“]
        end
        
        subgraph "å­˜å‚¨æŠ½è±¡"
            MemoryStorage[å†…å­˜å­˜å‚¨ - å·²å®ç°]
            RedisStorage[Rediså­˜å‚¨ - å¾…å®ç°]
            CustomStorage[è‡ªå®šä¹‰å­˜å‚¨ - å¾…å®ç°]
        end
    end
    
    subgraph "åŸºç¡€è®¾æ–½å±‚"
        subgraph "åˆ†å¸ƒå¼æœåŠ¡"
            IDGenerator[IDç”Ÿæˆå™¨ - åŸºç¡€ç‰ˆ]
            DistributedLock[åˆ†å¸ƒå¼é” - åŸºç¡€ç‰ˆ]
        end
        
        subgraph "åè®®å±‚"
            TCPAdapter[TCPé€‚é…å™¨ - æ¡†æ¶ç‰ˆ]
            WebSocketAdapter[WebSocketé€‚é…å™¨ - æ¡†æ¶ç‰ˆ]
            UDPAdapter[UDPé€‚é…å™¨ - æ¡†æ¶ç‰ˆ]
            QUICAdapter[QUICé€‚é…å™¨ - æ¡†æ¶ç‰ˆ]
        end
        
        subgraph "æµå¤„ç†"
            StreamProcessor[æµå¤„ç†å™¨ - åŸºç¡€ç‰ˆ]
            RateLimiter[é™é€Ÿå™¨ - åŸºç¡€ç‰ˆ]
            Compression[å‹ç¼©å™¨ - åŸºç¡€ç‰ˆ]
            Encryption[åŠ å¯†å™¨ - å¾…å®ç°]
        end
    end
    
    Server --> CloudControl
    CloudControl --> JWTManager
    CloudControl --> StatsManager
    CloudControl --> NodeManager
    CloudControl --> AnonymousManager
    CloudControl --> SearchManager
    CloudControl --> ConnectionManager
    CloudControl --> ConfigManager
    CloudControl --> CleanupManager
    
    JWTManager --> UserRepo
    StatsManager --> UserRepo
    NodeManager --> NodeRepo
    AnonymousManager --> ClientRepo
    SearchManager --> UserRepo
    ConnectionManager --> ConnectionRepo
    
    UserRepo --> MemoryStorage
    ClientRepo --> MemoryStorage
    MappingRepo --> MemoryStorage
    NodeRepo --> MemoryStorage
    ConnectionRepo --> MemoryStorage
    
    CloudControl --> IDGenerator
    CloudControl --> DistributedLock
    
    Server --> TCPAdapter
    Server --> WebSocketAdapter
    Server --> UDPAdapter
    Server --> QUICAdapter
    
    TCPAdapter --> StreamProcessor
    WebSocketAdapter --> StreamProcessor
    UDPAdapter --> StreamProcessor
    QUICAdapter --> StreamProcessor
    
    StreamProcessor --> RateLimiter
    StreamProcessor --> Compression
    StreamProcessor --> Encryption
```

### ğŸ“‹ æ¶æ„åˆ†å±‚è¯´æ˜

#### ğŸ¯ åˆ†å±‚è®¾è®¡åŸåˆ™

**ä¾èµ–å€’ç½®**
- é«˜å±‚æ¨¡å—ä¸ä¾èµ–ä½å±‚æ¨¡å—ï¼Œéƒ½ä¾èµ–æŠ½è±¡
- é€šè¿‡æ¥å£è¿›è¡Œè§£è€¦

**å•ä¸€èŒè´£**
- æ¯å±‚åªè´Ÿè´£è‡ªå·±çš„æ ¸å¿ƒåŠŸèƒ½
- æ˜ç¡®çš„èŒè´£è¾¹ç•Œ

**å¼€é—­åŸåˆ™**
- å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­
- å·¥å‚æ¨¡å¼å’Œé…ç½®åŒ–

**æ¥å£éš”ç¦»**
- é€šè¿‡æ¥å£è¿›è¡Œè§£è€¦ï¼Œé™ä½è€¦åˆåº¦
- å®šä¹‰æ¸…æ™°çš„æ¥å£

#### ğŸ“‹ å„å±‚èŒè´£

**åº”ç”¨å±‚**
- æœåŠ¡å™¨å…¥å£å’Œé…ç½®ç®¡ç†
- ä¸»è¦ç»„ä»¶ï¼šProtocolFactory, Server, Main

**åè®®å±‚**
- å¤šç§ç½‘ç»œåè®®çš„é€‚é…å™¨å®ç°
- ä¸»è¦ç»„ä»¶ï¼šTCP, WebSocket, UDP, QUICé€‚é…å™¨

**ä¼šè¯å±‚**
- è¿æ¥ä¼šè¯ç®¡ç†å’Œç”Ÿå‘½å‘¨æœŸæ§åˆ¶
- ä¸»è¦ç»„ä»¶ï¼šConnectionSession, StreamManager

**æµç®¡ç†å±‚**
- æµç»„ä»¶çš„ç»Ÿä¸€ç®¡ç†å’Œæ³¨å†Œ
- ä¸»è¦ç»„ä»¶ï¼šStreamManager, æµæ³¨å†Œè¡¨, æŒ‡æ ‡ç»Ÿè®¡

**å·¥å‚å±‚**
- æµç»„ä»¶çš„åˆ›å»ºå’Œé…ç½®
- ä¸»è¦ç»„ä»¶ï¼šDefaultStreamFactory, ConfigurableStreamFactory

**å®ç°å±‚**
- å…·ä½“çš„æµå¤„ç†ç»„ä»¶å®ç°
- ä¸»è¦ç»„ä»¶ï¼šStreamProcessor, å‹ç¼©å™¨, é™é€Ÿå™¨

### ğŸ”„ æµå¤„ç†æ¶æ„åˆ†å±‚å›¾

```mermaid
graph TB
    %% åº”ç”¨å±‚ (Application Layer)
    subgraph AL["åº”ç”¨å±‚ (Application Layer)"]
        style AL fill:#e1f5fe
        PF[ProtocolFactory<br/>åè®®å·¥å‚]
        S[Server<br/>æœåŠ¡å™¨]
        M[Main<br/>ä¸»ç¨‹åº]
    end

    %% åè®®å±‚ (Protocol Layer)
    subgraph PL["åè®®å±‚ (Protocol Layer)"]
        style PL fill:#f3e5f5
        TA[TCP Adapter<br/>TCPé€‚é…å™¨]
        WA[WebSocket Adapter<br/>WebSocketé€‚é…å™¨]
        UA[UDP Adapter<br/>UDPé€‚é…å™¨]
        QA[QUIC Adapter<br/>QUICé€‚é…å™¨]
    end

    %% ä¼šè¯å±‚ (Session Layer)
    subgraph SL["ä¼šè¯å±‚ (Session Layer)"]
        style SL fill:#e8f5e8
        CS[ConnectionSession<br/>è¿æ¥ä¼šè¯]
        subgraph CS_INNER["ä¼šè¯ç»„ä»¶"]
            CID[ConnectionID<br/>è¿æ¥IDç”Ÿæˆå™¨]
            SM[StreamManager<br/>æµç®¡ç†å™¨]
        end
    end

    %% æµç®¡ç†å±‚ (Stream Management Layer)
    subgraph SML["æµç®¡ç†å±‚ (Stream Management Layer)"]
        style SML fill:#fff3e0
        STM[StreamManager<br/>æµç®¡ç†å™¨]
        subgraph STM_INNER["ç®¡ç†ç»„ä»¶"]
            SR[Stream Registry<br/>æµæ³¨å†Œè¡¨]
            SMF[Stream Metrics<br/>æµæŒ‡æ ‡]
        end
    end

    %% å·¥å‚å±‚ (Factory Layer)
    subgraph FL["å·¥å‚å±‚ (Factory Layer)"]
        style FL fill:#fce4ec
        DSF[DefaultStreamFactory<br/>é»˜è®¤æµå·¥å‚]
        CSF[ConfigurableStreamFactory<br/>å¯é…ç½®æµå·¥å‚]
        SP[Stream Profiles<br/>æµé…ç½®æ¨¡æ¿]
    end

    %% å®ç°å±‚ (Implementation Layer)
    subgraph IL["å®ç°å±‚ (Implementation Layer)"]
        style IL fill:#f1f8e9
        SPROC[StreamProcessor<br/>æµå¤„ç†å™¨]
        GZR[GzipReader<br/>å‹ç¼©è¯»å–å™¨]
        GZW[GzipWriter<br/>å‹ç¼©å†™å…¥å™¨]
        RLR[RateLimiterReader<br/>é™é€Ÿè¯»å–å™¨]
        RLW[RateLimiterWriter<br/>é™é€Ÿå†™å…¥å™¨]
        TB[TokenBucket<br/>ä»¤ç‰Œæ¡¶]
    end

    %% è¿æ¥å…³ç³»
    %% åº”ç”¨å±‚åˆ°åè®®å±‚
    PF --> TA
    PF --> WA
    PF --> UA
    PF --> QA

    %% åè®®å±‚åˆ°ä¼šè¯å±‚
    TA --> CS
    WA --> CS
    UA --> CS
    QA --> CS

    %% ä¼šè¯å±‚åˆ°æµç®¡ç†å±‚
    CS --> STM

    %% æµç®¡ç†å±‚åˆ°å·¥å‚å±‚
    STM --> DSF
    STM --> CSF

    %% å·¥å‚å±‚åˆ°å®ç°å±‚
    DSF --> SPROC
    CSF --> SPROC
    SPROC --> GZR
    SPROC --> GZW
    SPROC --> RLR
    SPROC --> RLW
    RLR --> TB
    RLW --> TB

    %% æ ·å¼å®šä¹‰
    classDef applicationLayer fill:#e1f5fe,stroke:#0277bd,stroke-width:2px
    classDef protocolLayer fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef sessionLayer fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
    classDef streamManagementLayer fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef factoryLayer fill:#fce4ec,stroke:#880e4f,stroke-width:2px
    classDef implementationLayer fill:#f1f8e9,stroke:#33691e,stroke-width:2px

    %% Apply styles
    class PF,S,M applicationLayer
    class TA,WA,UA,QA protocolLayer
    class CS,CID,SM sessionLayer
    class STM,SR,SMF streamManagementLayer
    class DSF,CSF,SP factoryLayer
    class SPROC,GZR,GZW,RLR,RLW,TB implementationLayer
```

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ” è®¤è¯ä¸å®‰å…¨

**JWT Tokenç®¡ç†** âœ… å·²å®Œæˆ
- æ”¯æŒtokenç”Ÿæˆã€éªŒè¯ã€åˆ·æ–°ï¼Œå†…ç½®tokenç¼“å­˜å’Œè‡ªåŠ¨æ¸…ç†æœºåˆ¶

**åŒ¿åç”¨æˆ·æ”¯æŒ** âœ… å·²å®Œæˆ
- åŒ¿åå®¢æˆ·ç«¯ç”Ÿæˆå’Œç®¡ç†åŠŸèƒ½

**è§’è‰²æƒé™æ§åˆ¶** ğŸ”„ å¼€å‘ä¸­
- åŸºç¡€æƒé™æ§åˆ¶æ¡†æ¶ï¼ˆç»†ç²’åº¦æƒé™å¾…å®ç°ï¼‰

**å®‰å…¨é€šä¿¡** ğŸ”„ å¼€å‘ä¸­
- TLSåŠ å¯†ä¼ è¾“æ”¯æŒï¼ˆå…·ä½“å®ç°å¾…å®Œå–„ï¼‰

**åŠ å¯†ä¼ è¾“é€‰é¡¹** ğŸ”„ å¼€å‘ä¸­
- é¢„ç•™æ•°æ®åŒ…åŠ å¯†æ ‡è¯†ä½ï¼Œæ”¯æŒå¯é€‰çš„ç«¯åˆ°ç«¯åŠ å¯†ä¼ è¾“

### ğŸ“Š ç»Ÿè®¡ä¸ç›‘æ§

**åŸºç¡€ç»Ÿè®¡** âœ… å·²å®Œæˆ
- ç”¨æˆ·ã€å®¢æˆ·ç«¯ã€ç«¯å£æ˜ å°„çš„åŸºç¡€ç»Ÿè®¡ä¿¡æ¯

**æµé‡ç»Ÿè®¡** ğŸ”„ å¼€å‘ä¸­
- åŸºç¡€çš„æµé‡å’Œè¿æ¥æ•°ç»Ÿè®¡ï¼ˆå›¾è¡¨æ•°æ®å¾…å®ç°ï¼‰

**ç³»ç»Ÿç›‘æ§** âœ… å·²å®Œæˆ
- ç³»ç»Ÿæ•´ä½“ç»Ÿè®¡ä¿¡æ¯æ”¶é›†

**æ€§èƒ½æŒ‡æ ‡** âœ… å·²å®Œæˆ
- åŸºç¡€çš„æ€§èƒ½æŒ‡æ ‡æ”¶é›†æ¡†æ¶

### ğŸŒ åˆ†å¸ƒå¼æ”¯æŒ

**èŠ‚ç‚¹ç®¡ç†** ğŸ”„ å¼€å‘ä¸­
- åŸºç¡€èŠ‚ç‚¹æ³¨å†Œå’Œå¿ƒè·³æœºåˆ¶ï¼ˆæ•…éšœè½¬ç§»å¾…å®ç°ï¼‰

**IDç”Ÿæˆ** âœ… å·²å®Œæˆ
- åŸºç¡€IDç”Ÿæˆå™¨ï¼Œæ”¯æŒå®¢æˆ·ç«¯ã€ç”¨æˆ·ã€èŠ‚ç‚¹ã€æ˜ å°„IDç”Ÿæˆï¼ˆå†…å­˜ç‰ˆæœ¬ï¼‰

**åˆ†å¸ƒå¼é”** âœ… å·²å®Œæˆ
- åŸºç¡€åˆ†å¸ƒå¼é”å®ç°ï¼Œæ”¯æŒé›†ç¾¤ç¯å¢ƒä¸‹çš„èµ„æºåè°ƒï¼ˆå†…å­˜ç‰ˆæœ¬ï¼‰

**è´Ÿè½½å‡è¡¡** ğŸ”„ å¼€å‘ä¸­
- è´Ÿè½½å‡è¡¡æ¡†æ¶ï¼ˆå…·ä½“ç­–ç•¥å¾…å®ç°ï¼‰

**é›†ç¾¤é€šä¿¡** ğŸ”„ å¼€å‘ä¸­
- èŠ‚ç‚¹é—´é€šä¿¡æ¡†æ¶ï¼ˆå…·ä½“å®ç°å¾…å®Œæˆï¼‰

### âš¡ æ€§èƒ½ä¼˜åŒ–

**å†…å­˜æ± ** âœ… å·²å®Œæˆ
- é«˜æ•ˆçš„ç¼“å†²åŒºç®¡ç†ï¼Œå‡å°‘å†…å­˜åˆ†é…å’ŒGCå‹åŠ›

**é›¶æ‹·è´** âœ… å·²å®Œæˆ
- å‡å°‘å†…å­˜åˆ†é…å¼€é”€ï¼Œæå‡æ•°æ®ä¼ è¾“æ•ˆç‡

**æµå¼å¤„ç†** âœ… å·²å®Œæˆ
- æ”¯æŒå‹ç¼©å’Œé™é€Ÿï¼Œä¼˜åŒ–ç½‘ç»œå¸¦å®½ä½¿ç”¨

**è¿æ¥æ± ** ğŸ”„ å¼€å‘ä¸­
- è¿æ¥æ± æ¡†æ¶ï¼ˆå…·ä½“ä¼˜åŒ–å¾…å®ç°ï¼‰

**å¼‚æ­¥å¤„ç†** ğŸ”„ å¼€å‘ä¸­
- å¼‚æ­¥å¤„ç†æ¡†æ¶ï¼ˆå…·ä½“æœºåˆ¶å¾…å®Œå–„ï¼‰

**æ•°æ®åŒ…å¤„ç†** âœ… å·²å®Œæˆ
- æ”¯æŒå‹ç¼©ã€åŠ å¯†æ ‡è¯†ä½ï¼Œçµæ´»çš„æ•°æ®åŒ…ç±»å‹å¤„ç†

### ğŸ”„ èµ„æºç®¡ç†

**è‡ªåŠ¨æ¸…ç†** âœ… å·²å®Œæˆ
- åŸºç¡€è¿‡æœŸèµ„æºæ¸…ç†æœºåˆ¶ï¼Œé˜²æ­¢èµ„æºæ³„æ¼

**å†…å­˜æ³„æ¼é˜²æŠ¤** âœ… å·²å®Œæˆ
- åŸºç¡€èµ„æºè·Ÿè¸ªæ¡†æ¶ï¼Œç¡®ä¿èµ„æºæ­£ç¡®é‡Šæ”¾

**ä¼˜é›…å…³é—­** âœ… å·²å®Œæˆ
- åŸºç¡€èµ„æºé‡Šæ”¾æœºåˆ¶ï¼Œæ”¯æŒä¼˜é›…çš„æœåŠ¡å…³é—­

**èµ„æºç›‘æ§** ğŸ”„ å¼€å‘ä¸­
- åŸºç¡€èµ„æºä½¿ç”¨ç›‘æ§æ¡†æ¶ï¼ˆå®æ—¶ç›‘æ§å¾…å®Œå–„ï¼‰

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚

**Go** 1.24+
- æ”¯æŒæ³›å‹ã€æ¨¡å—åŒ–ç­‰ç°ä»£ç‰¹æ€§

**Git** æœ€æ–°ç‰ˆæœ¬
- ç”¨äºä»£ç ç‰ˆæœ¬æ§åˆ¶

### ğŸ› ï¸ å®‰è£…ä¸è¿è¡Œ

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/tunnox-net/tunnox-core.git
cd tunnox-core

# å®‰è£…ä¾èµ–
go mod tidy

# è¿è¡Œæµ‹è¯•
go test ./... -v

# æ„å»ºæœåŠ¡å™¨
go build -o server cmd/server/main.go

# è¿è¡ŒæœåŠ¡å™¨
./server
```

### âš™ï¸ é…ç½®è¯´æ˜

é¡¹ç›®ä½¿ç”¨ YAML é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒä»¥ä¸‹é…ç½®é¡¹ï¼š

**æœåŠ¡å™¨é…ç½®**
- ç›‘å¬åœ°å€ã€ç«¯å£ã€è¶…æ—¶è®¾ç½®ã€CORS é…ç½®
- åŸºç¡€æœåŠ¡å™¨å‚æ•°

**åè®®é…ç½®**
- TCPã€WebSocketã€UDPã€QUIC åè®®å‚æ•°
- æ”¯æŒç‹¬ç«‹ç«¯å£é…ç½®

**æ—¥å¿—é…ç½®**
- æ—¥å¿—çº§åˆ«ã€æ ¼å¼ã€è¾“å‡ºä½ç½®
- æ”¯æŒæ—¥å¿—è½®è½¬å’Œå‹ç¼©

**äº‘æ§é…ç½®**
- JWT è®¾ç½®ã€æ•°æ®æ¸…ç†ç­–ç•¥ã€ID ç”Ÿæˆå‚æ•°
- äº‘æ§ç›¸å…³é…ç½®

**æ€§èƒ½é…ç½®**
- å†…å­˜æ± ã€è¿æ¥æ± å‚æ•°
- æ”¯æŒåŠ¨æ€è°ƒæ•´

**ç›‘æ§é…ç½®**
- æŒ‡æ ‡æ”¶é›†ã€å¥åº·æ£€æŸ¥
- æ”¯æŒ Prometheus æ ¼å¼

**å®‰å…¨é…ç½®**
- TLS è®¾ç½®ã€API å¯†é’¥è®¤è¯ã€ç®¡ç†å‘˜è´¦æˆ·
- å®‰å…¨ç›¸å…³é…ç½®

**é™æµé…ç½®**
- è¯·æ±‚é¢‘ç‡é™åˆ¶ã€çªå‘æµé‡å¤„ç†
- æµé‡æ§åˆ¶é…ç½®

> **æ³¨æ„**ï¼šå½“å‰é…ç½®ç³»ç»Ÿä¸ºé™æ€é…ç½®ï¼Œæ”¯æŒæ–‡ä»¶é…ç½®å’Œç¯å¢ƒå˜é‡è¦†ç›–ï¼ŒåŠ¨æ€é…ç½®ç®¡ç†åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­ã€‚

è¯¦ç»†é…ç½®ç¤ºä¾‹è¯·å‚è€ƒ `config.yaml` æ–‡ä»¶ï¼Œæ”¯æŒç¯å¢ƒå˜é‡è¦†ç›–é…ç½®ã€‚

---

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
tunnox-core/
â”œâ”€â”€ ğŸ“ cmd/                    # å‘½ä»¤è¡Œåº”ç”¨
â”‚   â””â”€â”€ ğŸ“ server/            # æœåŠ¡å™¨å…¥å£
â”œâ”€â”€ ğŸ“ internal/              # å†…éƒ¨åŒ…
â”‚   â”œâ”€â”€ ğŸ“ cloud/             # äº‘æ§ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ ğŸ“ managers/      # ä¸šåŠ¡ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ ğŸ“ generators/    # IDç”Ÿæˆå™¨
â”‚   â”‚   â”œâ”€â”€ ğŸ“ distributed/   # åˆ†å¸ƒå¼æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ ğŸ“ models/        # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ ğŸ“ repos/         # æ•°æ®ä»“åº“
â”‚   â”‚   â”œâ”€â”€ ğŸ“ storages/      # å­˜å‚¨æŠ½è±¡
â”‚   â”‚   â”œâ”€â”€ ğŸ“ constants/     # å¸¸é‡å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“ configs/       # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ğŸ“ factories/     # å·¥å‚æ¨¡å¼
â”‚   â”‚   â””â”€â”€ ğŸ“ stats/         # ç»Ÿè®¡åŠŸèƒ½
â”‚   â”œâ”€â”€ ğŸ“ protocol/          # åè®®é€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ adapter.go     # åè®®é€‚é…å™¨æ¥å£
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ manager.go     # åè®®ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ session.go     # è¿æ¥ä¼šè¯ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ tcp_adapter.go # TCPé€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ websocket_adapter.go # WebSocketé€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ udp_adapter.go # UDPé€‚é…å™¨
â”‚   â”‚   â””â”€â”€ ğŸ“„ quic_adapter.go # QUICé€‚é…å™¨
â”‚   â”œâ”€â”€ ğŸ“ stream/            # æµå¤„ç†
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ factory.go     # æµå·¥å‚å®ç°
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ manager.go     # æµç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ config.go      # æµé…ç½®æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ interfaces.go  # æµæ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ stream_processor.go # æµå¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ rate_limiter.go # é™é€Ÿå™¨
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ compression.go # å‹ç¼©å™¨
â”‚   â”‚   â””â”€â”€ ğŸ“„ token_bucket.go # ä»¤ç‰Œæ¡¶
â”‚   â”œâ”€â”€ ğŸ“ utils/             # å·¥å…·ç±»
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ dispose.go     # èµ„æºç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ buffer_pool.go # ç¼“å†²åŒºæ± 
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ logger.go      # æ—¥å¿—å·¥å…·
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ random.go      # éšæœºæ•°ç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ ğŸ“„ time.go        # æ—¶é—´å·¥å…·
â”‚   â”œâ”€â”€ ğŸ“ constants/         # å¸¸é‡å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ constants.go   # åŸºç¡€å¸¸é‡
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ log.go         # æ—¥å¿—å¸¸é‡
â”‚   â”‚   â””â”€â”€ ğŸ“„ http.go        # HTTPå¸¸é‡
â”‚   â”œâ”€â”€ ğŸ“ errors/            # é”™è¯¯å¤„ç†
â”‚   â”‚   â””â”€â”€ ğŸ“„ errors.go      # é”™è¯¯å®šä¹‰
â”‚   â””â”€â”€ ğŸ“ packet/            # æ•°æ®åŒ…å¤„ç†
â”‚       â””â”€â”€ ğŸ“„ packet.go      # æ•°æ®åŒ…å®šä¹‰
â”œâ”€â”€ ğŸ“ tests/                 # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ ğŸ“ docs/                  # æ–‡æ¡£
â”œâ”€â”€ ğŸ“ scripts/               # è„šæœ¬æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ go.mod                 # Goæ¨¡å—æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ go.sum                 # ä¾èµ–æ ¡éªŒæ–‡ä»¶
â”œâ”€â”€ ğŸ“„ config.yaml            # é…ç½®æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ README.md              # ä¸­æ–‡è¯´æ˜
â”œâ”€â”€ ğŸ“„ README_EN.md           # è‹±æ–‡è¯´æ˜
â””â”€â”€ ğŸ“„ LICENSE                # è®¸å¯è¯
```

---

## ğŸ“ˆ å¼€å‘è¿›åº¦

### âœ… å·²å®Œæˆ

**åŸºç¡€æ¶æ„è®¾è®¡** 100%
- å®Œæ•´çš„åˆ†å±‚æ¶æ„è®¾è®¡

**åè®®é€‚é…å™¨æ¡†æ¶** 100%
- TCPã€WebSocketã€UDPã€QUICåè®®æ¡†æ¶

**æµå¤„ç†ç³»ç»Ÿ** 100%
- å‹ç¼©ã€é™é€Ÿã€é›¶æ‹·è´åŠŸèƒ½

**StreamFactoryæ¶æ„** 100%
- å·¥å‚æ¨¡å¼ã€é…ç½®åŒ–å·¥å‚ã€é¢„å®šä¹‰æ¨¡æ¿

**StreamManager** 100%
- æµç”Ÿå‘½å‘¨æœŸç®¡ç†ã€æŒ‡æ ‡ç»Ÿè®¡

**è¿æ¥ä¼šè¯ç®¡ç†æ¡†æ¶** 100%
- ä¼šè¯ç®¡ç†å’Œç”Ÿå‘½å‘¨æœŸæ§åˆ¶

**JWT è®¤è¯ç³»ç»Ÿ** 100%
- å®Œæ•´çš„JWTè®¤è¯åŠŸèƒ½

**å†…å­˜æ± å’Œç¼“å†²åŒºç®¡ç†** 100%
- é«˜æ•ˆçš„å†…å­˜ç®¡ç†

**æ—¥å¿—ç³»ç»Ÿ** 100%
- ç»“æ„åŒ–æ—¥å¿—ç³»ç»Ÿ

**é”™è¯¯å¤„ç†æ¡†æ¶** 100%
- ç»Ÿä¸€çš„é”™è¯¯å¤„ç†

**åŸºç¡€IDç”Ÿæˆå™¨** 100%
- å†…å­˜ç‰ˆæœ¬IDç”Ÿæˆ

**åŸºç¡€é…ç½®ç®¡ç†** 100%
- æ–‡ä»¶é…ç½®å’Œç¯å¢ƒå˜é‡

**æ•°æ®æ¨¡å‹å®šä¹‰** 100%
- å®Œæ•´çš„æ•°æ®æ¨¡å‹

**æ•°æ®è®¿é—®å±‚** 100%
- Repositoryæ¨¡å¼å®ç°

**åŸºç¡€ç»Ÿè®¡åŠŸèƒ½** 100%
- åŸºç¡€ç»Ÿè®¡å’Œç›‘æ§

**æµ‹è¯•è¦†ç›–** 100%
- å®Œæ•´çš„å•å…ƒæµ‹è¯•è¦†ç›–

### ğŸš§ å¼€å‘ä¸­

**ç«¯å£æ˜ å°„ä¸šåŠ¡é€»è¾‘å®ç°** 30%
- æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å¼€å‘ä¸­

**æ•°æ®è½¬å‘æœºåˆ¶å®ç°** 20%
- æ•°æ®è½¬å‘åŠŸèƒ½å¼€å‘ä¸­

**é›†ç¾¤èŠ‚ç‚¹é€šä¿¡å®ç°** 15%
- èŠ‚ç‚¹é—´é€šä¿¡å¼€å‘ä¸­

**ç»Ÿè®¡å’Œç›‘æ§ç³»ç»Ÿå®Œå–„** 40%
- ç›‘æ§ç³»ç»Ÿå®Œå–„ä¸­

**ç”¨æˆ·ç®¡ç†ç•Œé¢å¼€å‘** 10%
- ç®¡ç†ç•Œé¢å¼€å‘ä¸­

**API æ¥å£å®ç°** 25%
- RESTful APIå¼€å‘ä¸­

**åŠ å¯†ä¼ è¾“å¤„ç†å™¨å®ç°** 35%
- åŠ å¯†åŠŸèƒ½å¼€å‘ä¸­

**åˆ†å¸ƒå¼IDç”Ÿæˆå™¨å®Œå–„** 60%
- Redis/æ•°æ®åº“æ”¯æŒå¼€å‘ä¸­

**åˆ†å¸ƒå¼é”å®ç°** 50%
- Redis/æ•°æ®åº“æ”¯æŒå¼€å‘ä¸­

**åŠ¨æ€é…ç½®ç®¡ç†ç³»ç»Ÿ** 20%
- çƒ­é‡è½½ã€é…ç½®éªŒè¯å¼€å‘ä¸­

**åè®®é€‚é…å™¨å…·ä½“å®ç°** 70%
- å…·ä½“åè®®å®ç°ä¸­

**è¿æ¥ä¼šè¯å…·ä½“ä¸šåŠ¡é€»è¾‘** 45%
- ä¸šåŠ¡é€»è¾‘å®Œå–„ä¸­

### ğŸ“‹ è®¡åˆ’ä¸­

- [ ] å®¢æˆ·ç«¯ SDK
- [ ] Web ç®¡ç†ç•Œé¢
- [ ] ç§»åŠ¨ç«¯æ”¯æŒ
- [ ] æ’ä»¶ç³»ç»Ÿ
- [ ] æ€§èƒ½åŸºå‡†æµ‹è¯•
- [ ] éƒ¨ç½²æ–‡æ¡£
- [ ] ç”¨æˆ·æ‰‹å†Œ

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

### ğŸ“ è´¡çŒ®æµç¨‹

1. **Fork æœ¬ä»“åº“**
2. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯** (`git checkout -b feature/AmazingFeature`)
3. **æäº¤æ›´æ”¹** (`git commit -m 'Add some AmazingFeature'`)
4. **æ¨é€åˆ°åˆ†æ”¯** (`git push origin feature/AmazingFeature`)
5. **åˆ›å»º Pull Request**

### ğŸ› ï¸ å¼€å‘æ ‡å‡†

**ä»£ç æ ‡å‡†**
- éµå¾ª Go è¯­è¨€ç¼–ç è§„èŒƒ
- ä½¿ç”¨ gofmt æ ¼å¼åŒ–ä»£ç 

**æµ‹è¯•è¦†ç›–**
- æ·»åŠ é€‚å½“çš„æµ‹è¯•ç”¨ä¾‹
- ç¡®ä¿ä»£ç è´¨é‡

**æ–‡æ¡£æ›´æ–°**
- æ›´æ–°ç›¸å…³æ–‡æ¡£
- ä¿æŒæ–‡æ¡£åŒæ­¥

### ğŸ“‹ å¼€å‘ç¯å¢ƒ

**Go ç‰ˆæœ¬è¦æ±‚**
- Go 1.24+ (æ”¯æŒæ³›å‹ç­‰ç°ä»£ç‰¹æ€§)

**å¼€å‘å·¥å…·**
- æ¨èä½¿ç”¨ GoLand æˆ– VS Code
- å®‰è£… Go æ‰©å±•å’Œæ ¼å¼åŒ–å·¥å…·

**ä»£ç è´¨é‡**
- ä½¿ç”¨ `go vet` æ£€æŸ¥ä»£ç 
- ä½¿ç”¨ `golint` æ£€æŸ¥ä»£ç é£æ ¼
- è¿è¡Œ `go test ./...` ç¡®ä¿æµ‹è¯•é€šè¿‡

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

## ğŸ“ è”ç³»æˆ‘ä»¬

- **é¡¹ç›®ä¸»é¡µ**: [GitHub](https://github.com/tunnox-net/tunnox-core)
- **é—®é¢˜åé¦ˆ**: [Issues](https://github.com/tunnox-net/tunnox-core/issues)
- **è®¨è®ºäº¤æµ**: [Discussions](https://github.com/tunnox-net/tunnox-core/discussions)

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼**

</div>